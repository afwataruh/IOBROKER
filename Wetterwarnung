function SendDWDWarning()
{
  var Begin = getState("dwd.0.warning.begin").val;
  var End = getState("dwd.0.warning.end").val;
  var text = getState("dwd.0.warning.text").val;
  var Headline = getState("dwd.0.warning.headline").val;
  var Description = getState("dwd.0.warning.description").val;
 
  var DWD_telegramm = "Achtung Wetterwarnungen " + Headline + " gültig vom " + Begin + " bis " + End + ": " + Description ;
  sendTo ("telegram.0", DWD_telegramm);
}
 
on("dwd.0.warning.severity", function (obj)
{
  if (obj.newState.val !==0)
  {
    setTimeout(SendDWDWarning, 30 * 1000);
  }
 
  if (obj.newState.val === 0)
  {
    sendTo ("telegram.0", "Alle Wetterwarnungen des Deutschen Wetterdienstes wurden aufgehoben.") ;
  }
 
  log ( "Wetterwarnungen " + text + " gültig vom " + Begin + " bis " + End + ': ' + Description);
});
